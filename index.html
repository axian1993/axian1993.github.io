<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="Axian&#39;s Blog">
<meta property="og:url" content="http://axianblog.com/index.html">
<meta property="og:site_name" content="Axian&#39;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Axian&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://axianblog.com/"/>





  <title>Axian's Blog</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Axian's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://axianblog.com/2017/06/03/感知机/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Axian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Axian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/03/感知机/" itemprop="url">感知机</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-03T10:19:53+08:00">
                2017-06-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="感知机"><a href="#感知机" class="headerlink" title="感知机"></a>感知机</h1><h2 id="口袋算法"><a href="#口袋算法" class="headerlink" title="口袋算法"></a>口袋算法</h2><p>当数据线性不可分时（存在噪音），简单的 PLA 算法显然无法收敛。我们要讨论的是如何得到近似的结果，我们希望尽可能将所有结果做对，即：<br>$$\mathbf{w}^*=\arg\min_\mathbf{w} \sum _{n=1}^{N}「y_n\neq \mathbf{w}^\top \mathbf{x}_n」,~~~~「x」=\begin{cases}1&amp;x=\text{true} \\ 0&amp;x=\text{false}\end{cases}$$<br>算法策略：</p>
<ol>
<li>提前设定迭代次数</li>
<li>每次迭代得到的 $\mathbf{w}$ 只有比前一次好（即误分样本更少）的时候才更新</li>
</ol>
<h2 id="表决感知机"><a href="#表决感知机" class="headerlink" title="表决感知机"></a>表决感知机</h2><p><img src="http://oqwwyfglh.bkt.clouddn.com/vote_perceptron.png" alt=""></p>
<h2 id="带边缘的感知机"><a href="#带边缘的感知机" class="headerlink" title="带边缘的感知机"></a>带边缘的感知机</h2><p><img src="http://oqwwyfglh.bkt.clouddn.com/perceptron_with_margin.png" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://axianblog.com/2017/06/02/梯度下降法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Axian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Axian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/02/梯度下降法/" itemprop="url">梯度下降法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-02T15:50:10+08:00">
                2017-06-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="梯度下降法"><a href="#梯度下降法" class="headerlink" title="梯度下降法"></a>梯度下降法</h1><p><strong>梯度下降法 （Gradient Descent)</strong> 是一种常见的优化算法，用以求解函数的最大值或最小值。</p>
<h2 id="梯度的概念"><a href="#梯度的概念" class="headerlink" title="梯度的概念"></a>梯度的概念</h2><p>梯度的计算方式如下：<br>$$grad~f(x_0,x_1,…,x_n)=\bigg(\frac{\partial{f}}{\partial x_0},\frac{\partial{f}}{\partial x_1},…,\frac{\partial{f}}{\partial x_n}\bigg)$$</p>
<p>函数在某一点的梯度是这样一个向量，它的方向与取得最大方向导数的方向一致，而它的模为方向导数的最大值。<strong>函数沿梯度方向函数有最大的变化率。</strong>  </p>
<h2 id="梯度下降"><a href="#梯度下降" class="headerlink" title="梯度下降"></a>梯度下降</h2><p>在高数中，我们求解一个函数的最小值时，最常用的方法就是求出它的导数为0的那个点，进而判断这个点是否能够取最小值。但是，在实际很多情况，我们很难求解出使函数的导数为0的方程，这个时候就可以使用梯度下降。我们知道对于一个函数沿着梯度的反方向是下降是最快的。例如为了选取一个 $\theta$ 使 $J(\theta)$ 最小，我们可以先随机选择 $\theta$ 一个初始值，然后不断的修改 $\theta$ 以减小 $J(\theta)$，直到 $\theta$ 的值不再改变。为了更清楚，给出下面的图：</p>
<p><img src="http://oqwwyfglh.bkt.clouddn.com/gradient_01.png" alt=""></p>
<p>这是一个表示参数 $\theta$ 与目标函数 $J(\theta)$ 的关系图，红色的部分是表示 $J(\theta)$ 有着比较高的取值，我们需要的是，能够让 $J(\theta)$ 的值尽量的低。也就是深蓝色的部分。 $\theta_0$ ， $\theta_1$ 表示 $\theta$ 向量的两个维度。</p>
<p>在上面提到梯度下降法的第一步是给θ给一个初值，假设随机给的初值是在图上的十字点。</p>
<p>然后我们将θ按照梯度下降的方向进行调整，就会使得J(θ)往更低的方向进行变化，如图所示，算法的结束将是在θ下降到无法继续下降为止。</p>
<p><img src="http://oqwwyfglh.bkt.clouddn.com/gradient_02.png" alt=""></p>
<p>对于梯度下降法，可以公式化地表示为：<br>$$\theta_{t+1}=\theta_t-\alpha~\frac{\partial J(\theta)}{\partial\theta}$$<br>即不断地向梯度的那个方向（减小最快的方向）更新 $\theta$ ，最终使得 $J(\theta)$ 最小。其中 $\alpha$ 称为学习速率（learning rate），取值太小会导致迭代过慢，取值太大可能错过最值点。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://axianblog.com/2017/05/19/hiho-1137/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Axian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Axian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/19/hiho-1137/" itemprop="url">hiho 1137</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-19T20:27:59+08:00">
                2017-05-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hihoCoder/" itemprop="url" rel="index">
                    <span itemprop="name">hihoCoder</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://hihocoder.com/problemset/problem/1137" target="_blank" rel="external">题目链接</a></p>
<h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><p>这道题可以用动规来解决，对于男性和女性分别构建dp矩阵，dp[i][j]代表选择i个人，工资为j时的最大价值。用位存储被选中的人，标记100个人需要用2个long long的数值，分别标记前后50个人。</p>
<p>对于得到的两个dp矩阵，找出所有dpm[x][]和dpf[y][]匹配中，能力最大，工资最少，字典序最小的组合。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div></pre></td><td class="code"><pre><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;deque&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line"></div><div class="line">const int maxn = 100;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">int dpm[105][1005], dpf[105][1005];</div><div class="line">unsigned long long idm[105][1005][2], idf[105][1005][2];</div><div class="line">int n, x, y, b;</div><div class="line"></div><div class="line">int main()&#123;</div><div class="line">  // freopen(&quot;input.txt&quot;, &quot;r&quot;, stdin);</div><div class="line">  cin &gt;&gt; n &gt;&gt; x &gt;&gt; y &gt;&gt; b;</div><div class="line">  memset(dpm, -1, sizeof(dpm));</div><div class="line">  memset(dpf, -1, sizeof(dpf));</div><div class="line">  memset(idm, 0, sizeof(idm));</div><div class="line">  memset(idf, 0, sizeof(idf));</div><div class="line">  dpm[0][0] = 0;</div><div class="line">  dpf[0][0] = 0;</div><div class="line">  int sum = 0, numm = 0, numf = 0;</div><div class="line">  char g;</div><div class="line">  int a, s;</div><div class="line">  for(int k =1; k&lt;=n;k++)</div><div class="line">  &#123;</div><div class="line">    cin &gt;&gt; g &gt;&gt; a &gt;&gt; s;</div><div class="line">    sum += s;</div><div class="line">    sum = min(sum, b);</div><div class="line">    if (g == &apos;M&apos;)&#123;</div><div class="line">      numm ++;</div><div class="line">      numm = min(numm, x);</div><div class="line">      for (int i = numm; i&gt;0; i--)&#123;</div><div class="line">        for (int j = sum; j &gt;= s; j--)&#123;</div><div class="line">          if (dpm[i-1][j-s] &lt; 0) continue;</div><div class="line">          if (dpm[i-1][j-s] + a &gt; dpm[i][j])&#123;</div><div class="line">            dpm[i][j] = dpm[i-1][j-s] + a;</div><div class="line">            idm[i][j][0] = idm[i-1][j-s][0];</div><div class="line">            idm[i][j][1] = idm[i-1][j-s][1];</div><div class="line">            if (k-1&lt;50) idm[i][j][0] |= 1ll &lt;&lt; (50 - k);</div><div class="line">            else idm[i][j][1] |= 1ll &lt;&lt; (100 - k);</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    else&#123;</div><div class="line">      numf ++;</div><div class="line">      numf = min(numf, y);</div><div class="line">      for (int i = numf; i&gt;0; i--)&#123;</div><div class="line">        for (int j = sum; j &gt;= s; j--)&#123;</div><div class="line">          if (dpf[i-1][j-s] &lt; 0) continue;</div><div class="line">          if (dpf[i-1][j-s] + a &gt; dpf[i][j])&#123;</div><div class="line">            dpf[i][j] = dpf[i-1][j-s] + a;</div><div class="line">            idf[i][j][0] = idf[i-1][j-s][0];</div><div class="line">            idf[i][j][1] = idf[i-1][j-s][1];</div><div class="line">            if (k-1&lt;50) idf[i][j][0] |= 1ll &lt;&lt; (50 - k);</div><div class="line">            else idf[i][j][1] |= 1ll &lt;&lt; (100 - k);</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  int resa = -1, ress = 0;</div><div class="line">  unsigned long long idx[2];</div><div class="line">  for (int i = 0; i &lt;=b; i++)&#123;</div><div class="line">    if (dpm[x][i] == -1)  continue;</div><div class="line">    for (int j = 0; j &lt;= b - i; j++)&#123;</div><div class="line">      if (dpf[y][j] == -1) continue;</div><div class="line">      if (dpm[x][i] + dpf[y][j] &gt; resa)&#123;</div><div class="line">        resa = dpm[x][i] + dpf[y][j];</div><div class="line">        ress = i + j;</div><div class="line">        idx[0] = idm[x][i][0] | idf[y][j][0];</div><div class="line">        idx[1] = idm[x][i][1] | idf[y][j][1];</div><div class="line">      &#125;</div><div class="line">      else if(dpm[x][i] + dpf[y][j] == resa &amp;&amp; ress &gt; i + j)&#123;</div><div class="line">        ress = i + j;</div><div class="line">        idx[0] = idm[x][i][0] | idf[y][j][0];</div><div class="line">        idx[1] = idm[x][i][1] | idf[y][j][1];</div><div class="line">      &#125;</div><div class="line">      else if (dpm[x][i] + dpf[y][j] == resa &amp;&amp; ress == i + j)&#123;</div><div class="line">        unsigned long long idx0 = idm[x][i][0] | idf[y][j][0];</div><div class="line">        unsigned long long idx1 = idm[x][i][1] | idf[y][j][1];</div><div class="line">        if (idx[0] &lt; idx0)&#123;</div><div class="line">          idx[0] = idx0;</div><div class="line">          idx[1] = idx1;</div><div class="line">        &#125;</div><div class="line">        else if (idx[0] == idx0 &amp;&amp; idx[1] &lt; idx1)&#123;</div><div class="line">          idx[1] = idx1;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  cout &lt;&lt; resa &lt;&lt; &quot; &quot; &lt;&lt; ress &lt;&lt; endl;</div><div class="line">  bool flag = false;</div><div class="line">  for (int i = 49; i &gt;= 0; i--)&#123;</div><div class="line">    if (1 &amp; (idx[0] &gt;&gt; i))&#123;</div><div class="line">      if (flag)&#123;</div><div class="line">        cout &lt;&lt; &quot; &quot;;</div><div class="line">      &#125;</div><div class="line">      cout &lt;&lt; (50 - i);</div><div class="line">      flag = true;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  for (int i = 49; i &gt;= 0; i--)&#123;</div><div class="line">    if (1 &amp; (idx[1] &gt;&gt; i))&#123;</div><div class="line">      if (flag)&#123;</div><div class="line">        cout &lt;&lt; &quot; &quot;;</div><div class="line">      &#125;</div><div class="line">      cout &lt;&lt; (100 - i);</div><div class="line">      flag = true;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  cout &lt;&lt; endl;</div><div class="line">  return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="http://www.voidcn.com/blog/u013250442/article/p-2737565.html" target="_blank" rel="external">微软2016校园招聘笔试（第一场） Professor Q’s Software &amp; Recruitment</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://axianblog.com/2017/05/16/排列组合的c-实现/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Axian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Axian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/16/排列组合的c-实现/" itemprop="url">排列组合的c++实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-16T14:01:47+08:00">
                2017-05-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>写这篇博客的原因是在刷题的时候遇到了组合问题，以前用python的itertools模块就能够轻松实现排列、组合等功能，而想用c++实现类似的功能就需要自己动手。</p>
<p>本文归纳了排列组合的以下四种常见情况，并给出了相应的算法思路：</p>
<ol>
<li>所有元素的全排列</li>
<li>所有元素的全组合</li>
<li>求n个元素中选取m个元素的排列</li>
<li>求n个元素中选取m个元素的组合</li>
</ol>
<h1 id="所有元素的全排列"><a href="#所有元素的全排列" class="headerlink" title="所有元素的全排列"></a>所有元素的全排列</h1><p>对于给定的2个元素<code>ab</code>的全排列是<code>ab</code>和<code>ba</code>。全排列问题可以用递归的方法解决，一些博客将其总结为<strong>全排列就是从第一个数字起每个数分别与它后面的数字交换</strong>，但我认为这样的表达不能够直观地说明为什么这样做的结果就是全排列。</p>
<p>我们从前向后考虑排列的构成，给定n个元素，排列的第一个位置共有n个可能的取值。对于第一个位置的每一种可能的取值，都可以构造剩余n-1个元素的全排列串联在第一个元素后形成(n-1)!个排列。那么n个元素的全排列就是n种取值下排列的总和即n!个排列。那么问题可以看成是在第一个位置取不同值时求剩余(n-1)个元素的全排列。很显然，全排列问题可以被看作是一个递归问题。</p>
<p>假设给定的元素存放在一个数组中，排列是从前向后构造的。为了让每个位置取尽所有可能的值，只需要让其与其后的每个位置交换元素即可，这就是为什么说<strong>全排列就是从第一个数字起每个数分别与它后面的数字交换</strong>的原因，下面给出了代码实现。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">void helper(char* str, int start, int length)&#123;</div><div class="line">  if (start == length - 1)</div><div class="line">    cout &lt;&lt; str &lt;&lt; endl;</div><div class="line">  else</div><div class="line">    for (int i = start; i &lt; length;i++)&#123;</div><div class="line">      swap(str[start],str[i]);</div><div class="line">      helper(str, start+1, length);</div><div class="line">      swap(str[i], str[start]);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Permutation(char* str)&#123;</div><div class="line">  if (str == NULL)</div><div class="line">    return;</div><div class="line">  helper(str, 0, strlen(str));</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main()&#123;</div><div class="line">  char a[] = &quot;abc&quot;;</div><div class="line">  Permutation(a);</div><div class="line">  return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="所有元素的全组合"><a href="#所有元素的全组合" class="headerlink" title="所有元素的全组合"></a>所有元素的全组合</h1><p>给定的3个元素<code>abc</code>的全组合是<code>a</code>、<code>b</code>、<code>c</code>、<code>ab</code>、<code>ac</code>、<code>bc</code>、<code>abc</code>。<br>解决全组合问题有两种思路：</p>
<ul>
<li>思路一：n个元素的全组合等于（n个元素中选取1个元素的组合）+（n个元素中选取2个元素的组合）+ … +（n个元素中选取n个元素的组合），该思路可以通过解决求n个元素中选取m个元素的组合的问题（将在后文讨论）来实现。</li>
<li>思路二：基于位图的方法，每个元素用一位代表，取值1表示用这个元素，取值0代表不用。例如三个元素<code>abc</code>，<code>a</code>用<code>100</code>代表.其中<code>000</code>无意义，从<code>001</code>到<code>111</code>正好代表二进制的1到2^3-1。因此可以通过循环1～2^n-1来输出相应的组合。</li>
</ul>
<p>下面给出了思路的代码实现。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">void Combination(char* str)&#123;</div><div class="line">  if (str == NULL)</div><div class="line">    return;</div><div class="line">  int length = strlen(str);</div><div class="line">  int n = 1 &lt;&lt; length;</div><div class="line">  for (int i = 1; i&lt;n;i++)&#123;</div><div class="line">    for (int j=0;j&lt;length;j++)&#123;</div><div class="line">      if (i &amp; (1&lt;&lt;j))</div><div class="line">        cout&lt;&lt; *(str+j);</div><div class="line">    &#125;</div><div class="line">    cout &lt;&lt; endl;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main()&#123;</div><div class="line">  char a[] = &quot;abc&quot;;</div><div class="line">  Combination(a);</div><div class="line">  return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="求n个元素中选取m个元素的组合"><a href="#求n个元素中选取m个元素的组合" class="headerlink" title="求n个元素中选取m个元素的组合"></a>求n个元素中选取m个元素的组合</h1><p>从3个元素<code>abc</code>中选2个元素的组合是<code>ab</code>,<code>ac</code>,<code>bc</code>。<br>该问题同样可以使用位图的方法解决，只是要保证二进制表示中要有m个1。我们借助一个二进制操作 “ 求最小的、比 x 大的整数 M，使得 M 与 x 的二进制表示中有相同数目的 1”，如果这个操作已知，那么我们可以设置一个初始整数 x，x 的低位第 1~m 个二进制位为 1，其余二进制位为 0，x 的二进制表示一种组合，然后调用上述操作求得下一个 x，x 的最大值为：(1&lt;&lt;n) - (1&lt;&lt;(n-m))，即从低位起第 n-m+1~n 位等于 1，其余位等于 0。代码实现如下，借助的二进制操作实现在方法<code>NextN</code>中，方法不直观但是很有意思，需要仔细体会过程哦。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">int NextN(int n)&#123;</div><div class="line">  int x = n &amp; (-n);</div><div class="line">  int t = n + x;</div><div class="line">  int ans = t | ((t^n)/x) &gt;&gt; 2;</div><div class="line">  return ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Combination(char* str, int m)&#123;</div><div class="line">  if (str == NULL)</div><div class="line">    return;</div><div class="line">  int length = strlen(str);</div><div class="line">  int start = (1 &lt;&lt; m) - 1;</div><div class="line">  int end  = (1 &lt;&lt; length) - (1 &lt;&lt; (length - m));</div><div class="line">  for (int i = start; i &lt;= end;)&#123;</div><div class="line">    for (int j=0;j&lt;length;j++)&#123;</div><div class="line">      if (i &amp; (1&lt;&lt;j))</div><div class="line">        cout&lt;&lt; *(str+j);</div><div class="line">    &#125;</div><div class="line">    cout &lt;&lt; endl;</div><div class="line">    i = NextN(i);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main()&#123;</div><div class="line">  char a[] = &quot;abcd&quot;;</div><div class="line">  Combination(a, 3);</div><div class="line">  return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="求n个元素中选取m个元素的排列"><a href="#求n个元素中选取m个元素的排列" class="headerlink" title="求n个元素中选取m个元素的排列"></a>求n个元素中选取m个元素的排列</h1><p>从3个元素<code>abc</code>中选2个元素的排列是<code>ab</code>,<code>ba</code>,<code>bc</code>,<code>cb</code>,<code>ac</code>,<code>ca</code>。该问题可以通过先解决求n个元素中选取m个元素的组合，再对每个组合求全排列得到。所有用到的方法已经在上文提到了，就不再贴代码了。</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="http://wuchong.me/blog/2014/07/28/permutation-and-combination-realize/" target="_blank" rel="external">全排列和全组合实现</a></p>
<p><a href="https://segmentfault.com/a/1190000002710424" target="_blank" rel="external">July 算法习题 - 字符串4（全排列和全组合）</a></p>
<p><a href="http://blog.csdn.net/johnlee175/article/details/45627667" target="_blank" rel="external">字符串全排列与全组合的递归实现-Java版</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://axianblog.com/2017/05/15/hiho-1135/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Axian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Axian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/15/hiho-1135/" itemprop="url">hiho 1135</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-15T21:18:44+08:00">
                2017-05-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hihoCoder/" itemprop="url" rel="index">
                    <span itemprop="name">hihoCoder</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://hihocoder.com/problemset/problem/1135?sid=1099717" target="_blank" rel="external">题目链接</a></p>
<h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><p>从前往后遍历，依次检查就好。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;deque&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line"></div><div class="line">const int maxn = 20010;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">int main()&#123;</div><div class="line">  // freopen(&quot;input.txt&quot;,&quot;r&quot;,stdin);</div><div class="line">  int d[3];</div><div class="line">  cin &gt;&gt; d[0] &gt;&gt; d[1] &gt;&gt; d[2];</div><div class="line">  sort(d,d+3);</div><div class="line"></div><div class="line">  char s[maxn];</div><div class="line">  cin &gt;&gt; s;</div><div class="line">  int res = 0;</div><div class="line">  int strLen = strlen(s);</div><div class="line">  // cout &lt;&lt; strLen &lt;&lt;endl;</div><div class="line">  int c[3];</div><div class="line">  int dif[3];</div><div class="line">  int tag = 0;</div><div class="line"></div><div class="line">  for (int i = 0;i&lt;strLen;i++)&#123;</div><div class="line">    if (s[i] == &apos;R&apos;)</div><div class="line">      c[0] += 1;</div><div class="line">    else if (s[i] == &apos;Y&apos;)</div><div class="line">      c[1] += 1;</div><div class="line">    else</div><div class="line">      c[2] += 1;</div><div class="line"></div><div class="line">    res = max(res, c[0]+c[1]+c[2]);</div><div class="line"></div><div class="line">    dif[0] = abs(c[0]-c[1]);</div><div class="line">    dif[1] = abs(c[1]-c[2]);</div><div class="line">    dif[2] = abs(c[0]-c[2]);</div><div class="line">    sort(dif,dif+3);</div><div class="line"></div><div class="line">    tag = 1;</div><div class="line">    for (int j = 0; j &lt; 3;j++)&#123;</div><div class="line">      if (dif[j] != d[j])&#123;</div><div class="line">        tag = 0;</div><div class="line">        break;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    if (tag == 1)</div><div class="line">      memset(c,0,sizeof(c));</div><div class="line">  &#125;</div><div class="line">  cout &lt;&lt; res&lt;&lt; endl;</div><div class="line">  return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://axianblog.com/2017/05/13/hihoCoder-1121/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Axian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Axian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/13/hihoCoder-1121/" itemprop="url">hihoCoder 1121</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-13T14:29:56+08:00">
                2017-05-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hihoCoder/" itemprop="url" rel="index">
                    <span itemprop="name">hihoCoder</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://hihocoder.com/problemset/problem/1121" target="_blank" rel="external">题目链接</a></p>
<h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><p>题目中已经给出了解题的思路，但需要注意使用邻接矩阵存储图会产生超时错误，应使用链接表的形式储存。下面的代码中使用了深度优先遍历。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;deque&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line"></div><div class="line">const int maxn = 10000;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">vector&lt;vector &lt;int&gt; &gt; g;</div><div class="line">int c[maxn];</div><div class="line">int t, n, m;</div><div class="line"></div><div class="line">int DFS(int x, int color)&#123;</div><div class="line">  c[x] = color;</div><div class="line">  for (int i = 0;i&lt;g[x].size();i++)&#123;</div><div class="line">    if (c[g[x][i]] == color)</div><div class="line">      return 0;</div><div class="line">    else if(c[g[x][i]]==0 &amp;&amp; !DFS(g[x][i], -color))</div><div class="line">      return 0;</div><div class="line">  &#125;</div><div class="line">  return 1;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main()&#123;</div><div class="line">  // freopen(&quot;input.txt&quot;,&quot;r&quot;,stdin);</div><div class="line">  cin &gt;&gt; t;</div><div class="line">  while(t--)</div><div class="line">  &#123;</div><div class="line">    g.clear();</div><div class="line">    cin &gt;&gt; n &gt;&gt; m;</div><div class="line">    g.resize(n);</div><div class="line">    //读入图信息</div><div class="line">    while(m--)</div><div class="line">    &#123;</div><div class="line">      int x, y;</div><div class="line">      cin &gt;&gt; x &gt;&gt; y;</div><div class="line">      g[x-1].push_back(y-1);</div><div class="line">      g[y-1].push_back(x-1);</div><div class="line">    &#125;</div><div class="line">    memset(c,0,sizeof(c));</div><div class="line">    int res = 1;</div><div class="line">    for (int i = 0;i&lt;n;i++)&#123;</div><div class="line">      if (c[i]==0)&#123;</div><div class="line">        if (!DFS(i,1))&#123;</div><div class="line">          res = 0;</div><div class="line">          break;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    if (res ==1)</div><div class="line">      cout &lt;&lt; &quot;Correct&quot;&lt;&lt;endl;</div><div class="line">    else</div><div class="line">      cout &lt;&lt; &quot;Wrong&quot;&lt;&lt;endl;</div><div class="line">  &#125;</div><div class="line">  return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://axianblog.com/2017/05/10/hihoCoder-1120/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Axian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Axian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/10/hihoCoder-1120/" itemprop="url">hihoCoder 1120</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-10T16:31:14+08:00">
                2017-05-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hihoCoder/" itemprop="url" rel="index">
                    <span itemprop="name">hihoCoder</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://hihocoder.com/problemset/problem/1120" target="_blank" rel="external">题目链接</a></p>
<h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><p>此题要求我们找出所有一定是地雷和一定不是地雷的格子。</p>
<p>一定是地雷的格子即在所有可能的情况下都是地雷的格子，一定不是地雷的格子同理。因此我们可以通过枚举所有可能的情况来解决该问题。由题意知未检测格子的数目小于等于10，因此枚举可行。</p>
<p>每次枚举的最后需要判断该枚举方案是否可行，即判断已检测点周围的地雷是否满足要求。只有可行的枚举方案才被考虑。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div></pre></td><td class="code"><pre><div class="line">#include &lt;iostream&gt;</div><div class="line">#include &lt;string&gt;</div><div class="line">#include &lt;cstdio&gt;</div><div class="line">#include &lt;cstdlib&gt;</div><div class="line">#include &lt;cstring&gt;</div><div class="line">#include &lt;vector&gt;</div><div class="line">#include &lt;set&gt;</div><div class="line">#include &lt;map&gt;</div><div class="line">#include &lt;deque&gt;</div><div class="line">#include &lt;stack&gt;</div><div class="line">#include &lt;queue&gt;</div><div class="line">#include &lt;algorithm&gt;</div><div class="line"></div><div class="line">const int maxn = 100;</div><div class="line"></div><div class="line">using namespace std;</div><div class="line"></div><div class="line">int s[maxn][maxn];</div><div class="line">int remain[maxn][maxn]; //记录枚举过程中未标记地雷的情况</div><div class="line">int t,n,m,i,j,ans1,ans2;</div><div class="line">int l;  //未探明格子数</div><div class="line">int judge[10];  //未标记点是否雷的标记值 -1表示不确定 -2表示一定不是雷 -3表示一定是雷</div><div class="line">int l_index[10][2]; //记录未标记点的索引</div><div class="line"></div><div class="line">//判断一个未标记格是否可能是雷（观察相邻八个格是否有0）</div><div class="line">bool check(int k)&#123;</div><div class="line">  int x = l_index[k][0];</div><div class="line">  int y = l_index[k][1];</div><div class="line">  for (i = 0; i &lt; 9; i++)&#123;</div><div class="line">    if (remain[x + i/3 -1][y + i%3 -1] == 0)&#123;</div><div class="line">      return false;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  return true;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void helper(int k)&#123;</div><div class="line">  int x = l_index[k][0];</div><div class="line">  int y = l_index[k][1];</div><div class="line">  if (k &lt; l)&#123;</div><div class="line">    if (check(k))&#123;</div><div class="line">      s[x][y] = -3; //标记为雷</div><div class="line">      for (i = 0; i&lt;9; i++)&#123;</div><div class="line">        if (remain[x + i/3 -1][y + i%3 -1] &gt; 0)&#123;  //将周围大于0的格子减1</div><div class="line">          remain[x + i/3 -1][y + i%3 -1]--;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      helper(k+1);</div><div class="line">      for (i = 0; i&lt;9; i++)&#123;</div><div class="line">        if (remain[x + i/3 -1][y + i%3 -1] &gt;= 0)&#123;   //将周围大于等于零的格子加1</div><div class="line">          remain[x + i/3 -1][y + i%3 -1]++;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    s[x][y] = -2; //标记为非雷</div><div class="line">    helper(k+1);</div><div class="line">  &#125;</div><div class="line">  else&#123;</div><div class="line">    for (i=0;i &lt; l;i++)&#123;</div><div class="line">      for(j =0; j&lt;9;j++)&#123;</div><div class="line">        if (remain[l_index[i][0] + j/3 -1][l_index[i][1] + j%3 -1] &gt; 0)&#123;  //有格子不满足雷分配 矛盾</div><div class="line">          return;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    for (i =0;i &lt; l; i++)&#123;</div><div class="line">      if (judge[i] == 0)</div><div class="line">        judge[i] = s[l_index[i][0]][l_index[i][1]];</div><div class="line">      else if(s[l_index[i][0]][l_index[i][1]] != judge[i])</div><div class="line">        judge[i] = -1;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">int main()&#123;</div><div class="line">  // freopen(&quot;input.txt&quot;,&quot;r&quot;,stdin);</div><div class="line">  cin &gt;&gt; t;</div><div class="line">  while(t--)&#123;</div><div class="line">    cin &gt;&gt; n &gt;&gt; m;</div><div class="line">    l = 0;</div><div class="line">    //读入迷宫</div><div class="line">    for (i = 1; i &lt;= n; i++)&#123;</div><div class="line">      for (j = 1; j &lt;= m; j++)&#123;</div><div class="line">        cin &gt;&gt; s[i][j];</div><div class="line">        if (s[i][j] == -1)&#123;</div><div class="line">          l_index[l][0] = i;</div><div class="line">          l_index[l][1] = j;</div><div class="line">          l ++;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    //初始化迷宫边界</div><div class="line">    for (i = 0; i&lt;=n+1;i++)&#123;</div><div class="line">      s[i][0] = -2;</div><div class="line">      s[i][m+1] = -2;</div><div class="line">    &#125;</div><div class="line">    for (i = 0; i&lt;=m+1;i++)&#123;</div><div class="line">      s[0][i] = -2;</div><div class="line">      s[n+1][i] = -2;</div><div class="line">    &#125;</div><div class="line">    //初始化remain</div><div class="line">    for (i = 0; i &lt;= n+1; i++)&#123;</div><div class="line">      for (j = 0; j &lt;= m+1; j++)&#123;</div><div class="line">        remain[i][j] = s[i][j];</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    //初始化judge</div><div class="line">    for (i = 0; i &lt; l; i++)&#123;</div><div class="line">      judge[i] = 0;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    helper(0); //从第一个未标记点开始递归枚举所有情况</div><div class="line"></div><div class="line">    ans1 = 0; ans2 = 0;</div><div class="line">    for(i =0 ;i&lt;l;i++)&#123;</div><div class="line">      if(judge[i]==-3)&#123;</div><div class="line">        ans1++;</div><div class="line">      &#125;</div><div class="line">      else if(judge[i]==-2)&#123;</div><div class="line">        ans2++;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    cout &lt;&lt; ans1 &lt;&lt; &quot; &quot; &lt;&lt; ans2 &lt;&lt; endl;</div><div class="line">  &#125;</div><div class="line">  return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://axianblog.com/2017/05/09/开篇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Axian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Axian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/09/开篇/" itemprop="url">开篇</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-09T21:28:14+08:00">
                2017-05-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂/" itemprop="url" rel="index">
                    <span itemprop="name">杂</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>当你的才华撑不起你的野心时，就应该静下心来好好学习。</p>
</blockquote>
<h2 id="写博客的原因"><a href="#写博客的原因" class="headerlink" title="写博客的原因"></a>写博客的原因</h2><ul>
<li><p>开始读研也有近两个年头了，但回头想想自己学过的东西，竟没有几样能够带着底气解释出来的。平时看过数次的博客，即便内容再简单，等到需要用的时候还是要从收藏夹翻。反思自己的学习过程，问题的根源在于思维的惰性。即便对于自身的期望是能够将新学的知识消化理解，烂熟于心，但总是败给了懒，抱着够用就好的态度，理解个皮毛，用完就忘。真正掌握了知识的人应该是能够将知识言传的，因此希望通过写博客的方式改变自己的学习方式。</p>
</li>
<li><p>回顾自己在大学的这几年，曾遇到过的大大小小自己无法解决的问题，其中大部分最终都是通过看别人的博客才得以解决的。每每在解决问题之后，我在感恩的同时也会敬佩这些‘大牛’博主们。我希望自己也能够用博客来记录今后的学习过程以及遇到的问题，希望在过程中能够加深对问题的理解。倘若能够给到读者任何帮助或是启发，我都将备感荣幸。</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="Axian" />
          <p class="site-author-name" itemprop="name">Axian</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Axian</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
